(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{269:function(e,t,n){"use strict";var o=n(11),r=n(4),a=n(14),i=n(15),s=n(17),u=n(19),c=n(2),l=n.n(c),p=n(31),f=n(7),v=n(0),d=n(224),h=n(65),m=n(62),g=v.createContext(null),x=g.Provider,b=g.Consumer,w=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).renderDropdown=function(t){var n=t.notFoundContent,o=t.activeIndex,r=t.setActiveIndex,a=t.selectOption,i=t.onFocus,s=t.onBlur,u=e.props,c=u.prefixCls,l=u.options,p=l[o]||{};return v.createElement(m.f,{prefixCls:"".concat(c,"-menu"),activeKey:p.key,onSelect:function(e){var t=e.key,n=l.find((function(e){return e.key===t}));a(n)},onFocus:i,onBlur:s},l.map((function(e,t){var n=e.key,o=e.disabled,a=e.children,i=e.className,s=e.style;return v.createElement(m.d,{key:n,disabled:o,className:i,style:s,onMouseEnter:function(){r(t)}},a)})),!l.length&&v.createElement(m.d,{disabled:!0},n))},e}return Object(i.a)(n,[{key:"render",value:function(){return v.createElement(b,null,this.renderDropdown)}}]),n}(v.Component),O={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}},C=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).getDropdownPrefix=function(){return"".concat(e.props.prefixCls,"-dropdown")},e.getDropdownElement=function(){var t=e.props.options;return v.createElement(w,{prefixCls:e.getDropdownPrefix(),options:t})},e.getDropDownPlacement=function(){var t=e.props,n=t.placement;return"rtl"===t.direction?"top"===n?"topLeft":"bottomLeft":"top"===n?"topRight":"bottomRight"},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.visible,o=e.transitionName,r=e.getPopupContainer,a=this.getDropdownElement();return v.createElement(h.a,{prefixCls:this.getDropdownPrefix(),popupVisible:n,popup:a,popupPlacement:this.getDropDownPlacement(),popupTransitionName:o,builtinPlacements:O,getPopupContainer:r},t)}}]),n}(v.Component),y=function(){return null};function j(e){return(e||"").toLowerCase()}function E(e,t){var n=t.measureLocation,o=t.prefix,r=t.targetText,a=t.selectionStart,i=t.split,s=e.slice(0,n);s[s.length-i.length]===i&&(s=s.slice(0,s.length-i.length)),s&&(s="".concat(s).concat(i));var u=function(e,t,n){var o=e[0];if(!o||o===n)return e;for(var r=e,a=t.length,i=0;i<a;i+=1){if(j(r[i])!==j(t[i])){r=r.slice(i);break}i===a-1&&(r=r.slice(a))}return r}(e.slice(a),r.slice(a-n-o.length),i);u.slice(0,i.length)===i&&(u=u.slice(i.length));var c="".concat(s).concat(o).concat(r).concat(i);return{text:"".concat(c).concat(u),selectionLocation:c.length}}var F=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).focusId=void 0,o.triggerChange=function(e){var t=o.props.onChange;"value"in o.props||o.setState({value:e}),t&&t(e)},o.onChange=function(e){var t=e.target.value;o.triggerChange(t)},o.onKeyDown=function(e){var t=e.which,n=o.state,r=n.activeIndex;if(n.measuring)if(t===f.a.UP||t===f.a.DOWN){var a=o.getOptions().length,i=(r+(t===f.a.UP?-1:1)+a)%a;o.setState({activeIndex:i}),e.preventDefault()}else if(t===f.a.ESC)o.stopMeasure();else if(t===f.a.ENTER){e.preventDefault();var s=o.getOptions();if(!s.length)return void o.stopMeasure();var u=s[r];o.selectOption(u)}},o.onKeyUp=function(e){var t,n,r=e.key,a=e.which,i=o.state,s=i.measureText,u=i.measuring,c=o.props,l=c.prefix,p=void 0===l?"":l,v=c.onSearch,d=c.validateSearch,h=e.target,m=(n=(t=h).selectionStart,t.value.slice(0,n)),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(Array.isArray(t)?t:[t]).reduce((function(t,n){var o=e.lastIndexOf(n);return o>t.location?{location:o,prefix:n}:t}),{location:-1,prefix:""})}(m,p),x=g.location,b=g.prefix;if(-1===[f.a.ESC,f.a.UP,f.a.DOWN,f.a.ENTER].indexOf(a))if(-1!==x){var w=m.slice(x+b.length),O=d(w,o.props),C=!!o.getOptions(w).length;O?(r===b||"Shift"===r||u||w!==s&&C)&&o.startMeasure(w,b,x):u&&o.stopMeasure(),v&&O&&v(w,b)}else u&&o.stopMeasure()},o.onPressEnter=function(e){var t=o.state.measuring,n=o.props.onPressEnter;!t&&n&&n(e)},o.onInputFocus=function(e){o.onFocus(e)},o.onInputBlur=function(e){o.onBlur(e)},o.onDropdownFocus=function(){o.onFocus()},o.onDropdownBlur=function(){o.onBlur()},o.onFocus=function(e){window.clearTimeout(o.focusId);var t=o.state.isFocus,n=o.props.onFocus;!t&&e&&n&&n(e),o.setState({isFocus:!0})},o.onBlur=function(e){o.focusId=window.setTimeout((function(){var t=o.props.onBlur;o.setState({isFocus:!1}),o.stopMeasure(),t&&t(e)}),0)},o.selectOption=function(e){var t=o.state,n=t.value,r=t.measureLocation,a=t.measurePrefix,i=o.props,s=i.split,u=i.onSelect,c=e.value,l=E(n,{measureLocation:r,targetText:void 0===c?"":c,prefix:a,selectionStart:o.textarea.selectionStart,split:s}),p=l.text,f=l.selectionLocation;o.triggerChange(p),o.stopMeasure((function(){var e,t;e=o.textarea,t=f,e.setSelectionRange(t,t),e.blur(),e.focus()})),u&&u(e,a)},o.setActiveIndex=function(e){o.setState({activeIndex:e})},o.setTextAreaRef=function(e){var t;o.textarea=null==e||null===(t=e.resizableTextArea)||void 0===t?void 0:t.textArea},o.setMeasureRef=function(e){o.measure=e},o.getOptions=function(e){var t=e||o.state.measureText||"",n=o.props,a=n.children,i=n.filterOption;return Object(p.a)(a).map((function(e){var t=e.props,n=e.key;return Object(r.a)(Object(r.a)({},t),{},{key:n||t.value})})).filter((function(e){return!1===i||i(t,e)}))},o.state={value:e.defaultValue||e.value||"",measuring:!1,measureLocation:0,measureText:null,measurePrefix:"",activeIndex:0,isFocus:!1},o}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(){this.state.measuring&&(this.measure.scrollTop=this.textarea.scrollTop)}},{key:"startMeasure",value:function(e,t,n){this.setState({measuring:!0,measureText:e,measurePrefix:t,measureLocation:n,activeIndex:0})}},{key:"stopMeasure",value:function(e){this.setState({measuring:!1,measureLocation:0,measureText:null},e)}},{key:"focus",value:function(){this.textarea.focus()}},{key:"blur",value:function(){this.textarea.blur()}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.measureLocation,a=e.measurePrefix,i=e.measuring,s=e.activeIndex,u=this.props,c=u.prefixCls,p=u.placement,f=u.direction,h=u.transitionName,m=u.className,g=u.style,b=u.autoFocus,w=u.notFoundContent,O=u.getPopupContainer,y=function(e){for(var t=Object(r.a)({},e),n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return o.forEach((function(e){delete t[e]})),t}(Object(o.a)(u,["prefixCls","placement","direction","transitionName","className","style","autoFocus","notFoundContent","getPopupContainer"]),"value","defaultValue","prefix","split","children","validateSearch","filterOption","onSelect","onSearch"),j=i?this.getOptions():[];return v.createElement("div",{className:l()(c,m),style:g},v.createElement(d.a,Object.assign({autoFocus:b,ref:this.setTextAreaRef,value:t},y,{onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onPressEnter:this.onPressEnter,onFocus:this.onInputFocus,onBlur:this.onInputBlur})),i&&v.createElement("div",{ref:this.setMeasureRef,className:"".concat(c,"-measure")},t.slice(0,n),v.createElement(x,{value:{notFoundContent:w,activeIndex:s,setActiveIndex:this.setActiveIndex,selectOption:this.selectOption,onFocus:this.onDropdownFocus,onBlur:this.onDropdownBlur}},v.createElement(C,{prefixCls:c,transitionName:h,placement:p,direction:f,options:j,visible:!0,getPopupContainer:O},v.createElement("span",null,a))),t.slice(n+a.length)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return"value"in e&&e.value!==t.value&&(n.value=e.value||""),n}}]),n}(v.Component);F.Option=y,F.defaultProps={prefixCls:"rc-mentions",prefix:"@",split:" ",validateSearch:function(e,t){var n=t.split;return!n||-1===e.indexOf(n)},filterOption:function(e,t){var n=t.value,o=void 0===n?"":n,r=e.toLowerCase();return-1!==o.toLowerCase().indexOf(r)},notFoundContent:"Not Found",rows:1};var P=F;t.a=P}}]);